!function(e,r,t,n){var s=function(r,t,n){this.$element=r,this.defaults={classNum:13,th:["时间","周一","周二","周三","周四","周五"],firstCol:["1","2","3","4","5","6","7","8","9","10","11","12","13"]},this.options=e.extend({},this.defaults,n),this.courses=t};s.prototype={create:function(){var r,t=new RegExp("([一-龥豈-鶴])(\\d+)-(\\d+)","g"),n=[];this.courses.forEach(function(e){for(;null!=(r=t.exec(e.sksj));){var s;s="一"==r[1]?1:"二"==r[1]?2:"三"==r[1]?3:"四"==r[1]?4:5,n.push({courseInfo:e.courseInfo,day:s,begin:r[2],end:r[3]})}});for(var s=this.options.classNum,o=new Array,a=1;s>=a;a++){o[a]=new Array;for(var i=1;5>=i;i++)o[a][i]={hasClass:!1}}for(var a=0;a<n.length;a++){o[n[a].begin][n[a].day].courseInfo=n[a].courseInfo,o[n[a].begin][n[a].day].rowNum=Number(n[a].end)-Number(n[a].begin)+1;for(var i=Number(n[a].begin);i<=Number(n[a].end);i++)o[i][n[a].day].hasClass=!0}for(var u="",a=0;a<this.options.th.length;a++)u+="<th>"+this.options.th[a]+"</th>";u="<tr>"+u+"</tr>",this.$element.append(u);for(var a=1;s>=a;a++){var h=e("<tr></tr>");h.append("<td>"+this.options.firstCol[a-1]+"</td>");for(var i=1;5>=i;i++)if(o[a][i].hasClass&&o[a][i].courseInfo){for(var f="",d=0;d<o[a][i].courseInfo.length;d++)f+=o[a][i].courseInfo[d],d!=o[a][i].courseInfo.length-1&&(f+="<br>");h.append('<td rowspan="'+o[a][i].rowNum+'">'+f+"</td>")}else o[a][i].hasClass||h.append("<td></td>");this.$element.append(h)}return this.$element}},e.fn.createSchedule=function(e,r){var t=new s(this,e,r);return t.create()}}(jQuery,window,document);